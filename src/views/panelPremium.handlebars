<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH"
      crossorigin="anonymous"
    />
    <link rel="stylesheet" href="./css/{{fileCss}}" />
    <link
      rel="stylesheet"
      type="text/css"
      href="https://cdn.jsdelivr.net/npm/toastify-js/src/toastify.min.css"
    />
  </head>
  <nav class="navbar navbar-expand-lg bg-dark" data-bs-theme="dark">
    <div class="container-fluid">
      <a class="navbar-brand" href="/products">Ecommerce</a>

      <button
        class="navbar-toggler"
        type="button"
        data-bs-toggle="collapse"
        data-bs-target="#navbarSupportedContent"
        aria-controls="navbarSupportedContent"
        aria-expanded="false"
        aria-label="Toggle navigation"
      >
        <span class="navbar-toggler-icon"></span>
      </button>

      <div
        class="collapse navbar-collapse menuCollap"
        id="navbarSupportedContent"
      >

        <div class="ms-auto w-0 navBarOpt">
          <div>
            <a class="navbar-brand" href="/products">Productos</a>
            <a class="navbar-brand" href="/carts/{{user.cart}}">Carrito</a>
            <a class="navbar-brand" href="/current">Perfil</a>
          </div>

          <div class="containerLogOut">
            <p class="textoRol">Bienvenido : {{user.email}} </p>
            <div class="infoUserNav">
              <p class="textoRol">Rol :<i class="bi bi-person-fill"></i>
                {{user.role}}
              </p>
              <a
                href="/api/sessions/logout"
                type="button"
                class="btn btn-dark buttonLogOut"
              >Cerrar Sesion <i class="bi bi-box-arrow-right"></i></a>
            </div>
          </div>
        </div>
      </div>
    </div>
  </nav>
  <body>
    <div>
      <div class="tittleHeader">
        <h1>Panel de gestion premium</h1>
      </div>
      <div class="formSyle">
        <p class="d-inline-flex gap-1">
          <button
            class="btn btn-primary"
            type="button"
            data-bs-toggle="collapse"
            data-bs-target="#collapseExample"
            aria-expanded="false"
            aria-controls="collapseExample"
          >
            Crear Producto
          </button>
        </p>
        <div class="collapse" id="collapseExample">
          <div class="card card-body widthFormProduct">
            <div class="formSyle">
              <form class="formCuerpo">
                <div class="mb-3">
                  <input
                    class="form-control"
                    required
                    type="text"
                    name="title"
                    id="titleId"
                    placeholder="Titulo"
                  />
                </div>
                <div class="mb-3">
                  <input
                    class="form-control"
                    required
                    type="number"
                    name="price"
                    id="priceId"
                    placeholder="Precio"
                  />
                </div>
                <div class="mb-3">
                  <input
                    class="form-control"
                    required
                    type="text"
                    name="description"
                    id="descriptionId"
                    placeholder="Descripcion"
                  />
                </div>
                <div class="mb-3">
                  <input
                    class="form-control"
                    required
                    type="text"
                    name="category"
                    id="categoryId"
                    placeholder="Categoria"
                  />
                </div>
                <div class="mb-3">
                  <input
                    class="form-control"
                    required
                    type="url"
                    name="thumbnail"
                    id="thumbnailId"
                    placeholder="Imagen URL"
                  />
                </div>
                <div class="mb-3">
                  <input
                    class="form-control"
                    required
                    type="number"
                    name="code"
                    id="codeId"
                    placeholder="Code"
                  />
                </div>
                <div class="mb-3">
                  <input
                    class="form-control"
                    required
                    type="number"
                    name="stock"
                    id="stockId"
                    placeholder="Stock"
                  />
                </div>
                <div class="mb-3">
                  <input
                    hidden
                    class="form-control"
                    type="text"
                    name="owner"
                    id="ownerId"
                    placeholder="Owner"
                    value="{{user.email}}"
                  />
                </div>
                <div class="mb-3 form-check">
                  <input
                    class="form-check-input"
                    required
                    type="checkbox"
                    name="status"
                    id="statusId"
                  /><label for="status">Estado</label>
                </div>
                <div class="saveChangeBtn">
                  <input
                    class="btn btn-primary"
                    required
                    type="submit"
                    value="Enviar"
                  />
                </div>
              </form>

            </div>
          </div>
        </div>

      </div>

      <div>
        <h4>Lista de Productos Creados por {{user.email}}</h4>
        <div class="btnShowProducts">
          <button
            onclick="getProductsByOwner('{{user.email}}')"
            type="button"
            class="btn btn-primary"
          >Ver productos</button>
        </div>
        <div class="productListContainer" id="inRealTimeee"> </div>
        {{! MODALL }}

        <div
          class="modal fade"
          id="exampleModal"
          tabindex="-1"
          aria-labelledby="exampleModalLabel"
          aria-hidden="true"
        >
          <div class="modal-dialog modal-dialog-scrollable">
            <div class="modal-content">
              <div class="modal-header">
                <h1 class="modal-title fs-5" id="exampleModalLabel">Editar
                  Producto</h1>
                <button
                  type="button"
                  class="btn-close"
                  data-bs-dismiss="modal"
                  aria-label="Close"
                ></button>
              </div>
              <div class="modal-body" id="formBody">
                <div id="modal"></div>
              </div>
              <div class="modal-footer">
                <button
                  type="button"
                  class="btn btn-secondary"
                  data-bs-dismiss="modal"
                >Close</button>

              </div>
            </div>
          </div>
        </div>

      </div>
      <footer>
        <div class="footer">
          <p>Â© 2024 Top-Ecommerce. All rights reserved | Design by <span>Lucas Aspee</span></p>
        </div>
      </footer>

      <script
        src="https://cdn.socket.io/4.7.3/socket.io.min.js"
        integrity="sha384-+miq58Ltmjm+SSP5g8Ok6dpMO/6R4n8xe/x1Yj0Bdb9kiEz25LTnWv/GZQTRQamg"
        crossorigin="anonymous"
      ></script>
      <script src="/js/main.js"></script>
      <script
        src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz"
        crossorigin="anonymous"
      ></script>
      <script
        type="text/javascript"
        src="https://cdn.jsdelivr.net/npm/toastify-js"
      ></script>
    </div>
  </body>
</html>